<form class="widget-holder form-horizontal">
  <div class="form-group">
    <div class="col-sm-4 control-label">
      <label for="sso_login_url">Single sign-on login URL</label>
    </div>
    <div class="col-sm-8">
      <input type="text" class="form-control" id="sso_login_url" name="sso_login_url" value="{{idp.sso_login_url}}" required/>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-4 control-label">
      <label for="sso_logout_url">Single sign-on logout URL</label>
    </div>
    <div class="col-sm-8">
      <input type="text" class="form-control" id="sso_logout_url" name="sso_logout_url" value="{{idp.sso_logout_url}}" required/>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-4 control-label">
      <label for="certificates">Your identity provider certificate(s)</label>
      <p class="help-block"><small>Paste the <a href="https://en.wikipedia.org/wiki/Privacy-enhanced_Electronic_Mail" title="Learn more" target="_blank">PEM format string</a> for your certificate(s)</small></p>
    </div>
    <div class="col-sm-8">
      <textarea class="form-control" id="certificates" name="certificates" required>{{idp.certificates}}</textarea>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-12 control-label">
      <label>Fliplet's provider metadata</label>
      <p class="help-block"><small>To establish a trusted connection between Fliplet and your provider, use the XML linked below. This contains Fliplet's provider information such as certificates and login/logout URLs.</small></p>
    </div>
    <div class="col-sm-12">
      <button type="button" id="entity_id" class="btn btn-default" data-clipboard-text="">
        Copy link to metadata XML <i class="fa fa-clipboard"></i>
      </button>
    </div>
  </div>
  <hr />

  <!-- Session expiration is disabled until https://github.com/Fliplet/fliplet-api/pull/4668 is resolved -->
  <div class="form-group hidden">
    <div class="col-sm-4 control-label">
      <label for="validateSession">Expire session automatically</label>
      <p class="help-block"><small>Fliplet will attempt to validate the user's session against your Identity Provider's <code>SessionNotOnOrAfter</code> date every 3 hours when this is enabled. The user will be logged out automatically if the date provided by the Identity Provider has expired.</small></p>
    </div>
    <div class="col-sm-8">
      <input type="checkbox" id="validateSession" name="validateSession" /> Enable session expiration. If you're unsure, leave this checked.
    </div>
  </div>
  <!-- end of disabled section-->

  <div class="form-group">
    <div class="col-sm-4 control-label">
      <label for="forceAuthentication">Force authentication</label>
      <p class="help-block"><small>When enabled, your Identity Provider will require the user to authenticate even if they have previously logged in on the same device and browser.</small></p>
    </div>
    <div class="col-sm-8">
      <input type="checkbox" id="forceAuthentication" name="forceAuthentication" /> User must authenticate with the Identity Provider every time they log in.
    </div>
  </div>

  <h3></h3>
  <div class="form-group clearfix">
    <div class="col-sm-4 control-label">
      <label for="loggedInUserTime">Keep the user logged in for</label>
      <a class="help-icon" data-toggle="tooltip" data-placement="top" title="Force user re-authentication after a number of hours">
        <i class="fa fa-question-circle-o"></i>
      </a>
    </div>
    <div class="col-sm-8">
      <div class="input-group">
        <input type="number" class="form-control logged-user" name="loggedInUserTime" min="0" oninput="validity.valid||(value='');" value="{{sessionMaxDurationMinutes}}">
        <span class="input-group-addon time-label">Hours</span>
      </div>
    </div>
  </div>
  <div class="form-group clearfix">
    <div class="col-sm-4 control-label">
      <label for="loggedOutUserTime" class="logged-out-user-time">Automatically log out the user due to inactivity after
        <a class="help-icon" data-toggle="tooltip" data-placement="top" title="Automatic logout of the user after a period of inactivity in the app">
          <i class="fa fa-question-circle-o"></i>
        </a>
      </label>
    </div>
    <div class="col-sm-8">
      <div class="input-group">
        <input type="number" class="form-control logged-user" name="loggedOutUserTime" min="0" oninput="validity.valid||(value='');" value="{{sessionIdleTimeoutMinutes}}">
        <span class="input-group-addon time-label">Minutes</span>
      </div>
    </div>
  </div>

  <h3><small>Additional profile data</small></h3>
  <p class="text-helper">You can optionally add profile data to the SAML2 login</p>
  <div class="form-group clearfix">
    <div id="dataSourceProvider" class="col-sm-8"></div>
  </div>
  <div class="form-group hidden" id="select-email-field">
    <div class="col-sm-4 control-label">
      <label for="emailColumn">Select the email field</label>
    </div>
    <div class="col-sm-8">
      <label for="emailColumn" class="select-proxy-display">
        <select name="select_email" id="emailColumn" data-label="select" class="hidden-select form-control">
        </select>
        <span class="icon fa fa-chevron-down"></span>
        <span class="select-value-proxy">-- Select email field</span>
      </label>
    </div>
  </div>
</form>
